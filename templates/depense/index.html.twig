{% extends 'page.html.twig' %}

{% block body %}
  <div class="container fade-in js-filter">

    <div>
        {{ form_start(formDepense, {attr: {class: 'filter js-filter-form filter-depense'}}) }}

        {{ form_row(formDepense.categories) }}
        {{ form_row(formDepense.date) }}

        {{ form_end(formDepense) }}
    </div>

    <a href="{{ path( 'depense_categorie_new') }}" class="new" title="{{ 'Add'|trans }}" data-toggle="tooltip">
      Nouvelle Catégorie
    </a>

    <a href="{{ path( 'depense_new') }}" class="new" title="{{ 'Add'|trans }}" data-toggle="tooltip">
      Nouvelle Dépense
    </a>

    <a href="{{ path( 'depense_recurrente_new') }}" class="new" title="{{ 'Add'|trans }}" data-toggle="tooltip">
      Nouvelle Dépense récurrente
    </a>

    <div class="js-filter-content">
      {% include 'depense/_depenses.html.twig' with {depenses: depenses, soldeIntial: soldeIntial, depenseMonth: depenseMonth, soldeFinal: soldeFinal, depensesRecurrentes: depensesRecurrentes} only %}
    </div>

    <div>
      Budget moyen <sub>/course</sub> : {{ depenseCourseAvg|format_currency('EUR') }}
      </br>
      Budget moyen course <sub>/mois</sub> : {{ depenseCourseAvgMonth|format_currency('EUR') }}
    </div>

    <div class="mini-loader mini-loader__dark" unique="true"></div>


  </div>
{% endblock %}

{% block javascripts %}

  {{ encore_entry_script_tags('form') }}
  {{ encore_entry_script_tags('depense') }}

{% endblock %}
